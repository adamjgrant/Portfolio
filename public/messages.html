<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
    <meta name="description" content="The Elegant Frontend Framework">
    <meta name="author" content="Adam Kochanowicz">
    <script src="https://jspm.io/loader.js"></script>
    <script src="//cdn.firebase.com/v0/firebase.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/kickstrap.js"></script><script type="text/javascript">
(function() {
  var a;

  a = document.createElement('link');

  a.id = 'main-stylesheet';

  a.rel = 'stylesheet';

  if (k$.settings.theme === 'bootstrap') {
    a.href = "https://github.jspm.io/twbs/bootstrap@3.0.2/css/bootstrap.css";
  } else {
    a.href = 'themes/' + k$.settings.theme + '.css';
  }

  document.head.appendChild(a);

}).call(this);
</script>
    <title>Kickstrap</title>
    <link rel="stylesheet" href="css/kickstrap.css">
  </head>
  <body>
    <div id="sf-wrap">
      <nav role="navigation" class="navbar navbar-default navbar-fixed-top">
        <div class="container">
          <div class="navbar-header">
            <button type="button" data-toggle="collapse" data-target=".navbar-ex1-collapse" class="navbar-toggle"><span class="sr-only">Toggle Navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand kickstrap-logo">Kickstrap</a>
          </div>
          <div class="navbar-collapse collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
              <li><a href="/">Home</a></li>
              <li><a href="/products.html">Products</a></li>
              <li><a href="/newpage.html">New Page</a></li>
            </ul>
            <form class="navbar-form navbar-right">
              <input type="search" placeholder="Search" class="form-control">
            </form>
            <ul class="navbar-right nav navbar-nav">
              <li><a href="/cart.html"> <span class="glyphicon glyphicon-shopping-cart">&nbsp;</span><span class="badge">3</span></a></li>
              <li class="active"><a href="/messages.html"> <span class="glyphicon glyphicon-envelope">&nbsp;</span><span class="badge">10</span></a></li>
            </ul>
          </div>
        </div>
      </nav>
      <div class="container">
        <section ng-controller="MessagesCtrl" class="row">
          <link ng-repeat="contact in contacts" rel="prerender" href="http://api.rethumb.com/v1/square/120/http://upload.wikimedia.org/wikipedia/commons/{{contact.img}}">
          <div class="col col-sm-12 col-md-3">
            <h1>Messages</h1>
            <p class="lead"><a href="#" onclick="$.growl({title: 'Not yet implemented.', delay: 3000})">New</a></p>
            <article class="panel panel-default">
              <div class="panel-heading"> 
                <input type="text" ng-model="threadInput" placeholder="Search Threads" class="form-control">
              </div>
              <div class="list-group ks-beforeload">
                <p class="list-group-item">Loading...</p>
              </div>
              <div class="list-group ks-afterload"><a ng-repeat="thread in allThreads | filter: threadInput" ng-click="setSelectedThread(thread)" href="#message" ng-class="{'active': selectedThread.threadId == thread.threadId }" class="list-group-item"> 
                  <div class="media"><img src="http://images.weserv.nl/?url=upload.wikimedia.org/wikipedia/commons/{{contactForId(thread.messages[0].contactId).img}}&amp;h=128&amp;w=128&amp;t=square" style="width: 64px;" class="media-object pull-left">
                    <div class="media-body">
                      <h4 class="media-heading">{{thread.subject}}</h4>
                      <p style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;" class="text-muted">{{thread.messages[0].text}}</p>
                    </div>
                  </div></a></div>
            </article>
          </div>
          <div id="message" style="padding-top: 50px;">
            <nav class="navbar navbar-default visible-sm visible-xs">
              <div class="container">
                <ul class="nav navbar-nav">	
                  <li><a href="#"> <span class="glyphicon glyphicon-chevron-left"> </span> Messages</a></li>
                </ul>
              </div>
            </nav>
          </div>
          <div class="col col-sm-12 col-md-9 ks-afterload">
            <p ng-hide="allThreads.length &gt; 0" class="text-muted"><em>No messages to display</em></p>
            <div ng-hide="selectedThread || allThreads.length == 0" class="text-muted"><em class="hidden-xs hidden-sm">Please select a thread from the left</em><em class="visible-xs visible-sm">Please select a thread from above</em>
              <div id="ads" class="center-block"></div>
            </div>
            <h1>{{selectedThread.subject}}</h1><br>
            <div ng-repeat="message in selectedThread.messages">
              <div class="media"><img src="http://images.weserv.nl/?url=upload.wikimedia.org/wikipedia/commons/{{contactForId(message.contactId).img}}&amp;h=64&amp;w=64&amp;t=square" style="width: 32px;" class="media-object pull-left">
                <div class="media-body">
                  <p class="lead pull-left">{{contactForId(message.contactId).fName}} {{contactForId(message.contactId).lName}}</p>
                  <p class="pull-right"><small><em class="text-muted">Sent at {{message.date}}</em></small></p>
                  <div class="clearfix"></div>
                  <p>{{message.text}}</p>
                </div>
              </div>
              <hr>
            </div>
          </div>
        </section>
      </div>
      <div id="sf-push"></div>
    </div>
    <section id="sf-footer" class="navbar navbar-inverse navbar-static-top">
      <div class="container">
        <ul class="nav navbar-nav">
          <li><a href="#">&copy; [Edit me in app.coffee]</a></li>
        </ul>
        <ul class="nav navbar-nav pull-right">
          <li><a href="http://getkickstrap.com">Powered by <span class="kickstrap-logo">Kickstrap</span></a></li>
        </ul>
      </div>
    </section><script type="text/javascript">
(function() {
  k$.ready(function() {
    $.growl({
      title: 'Alpha 2 of 2',
      text: '<br>This is the last of two alpha releases. Two betas and two release candidates will be released as well before the final release on February 14, 2014',
      delay: 5000,
      type: 'info'
    });
    return jspm["import"]('ks:advertisements');
  });

}).call(this);
</script>
  </body>
</html>